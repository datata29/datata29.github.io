---
layout: post
title: (Python) XML íŒŒì¼ì„ ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ë§Œë“¤ê¸°
description: >
  XML íŒŒì¼ì— ëŒ€í•´ ì•Œì•„ë³´ê³  , ì´ë¥¼ ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ë³€í™˜í•´ë³´ì. 
categories: [ê°€ì´ë˜ìŠ¤]  
tags: [python]  
author: author1
---

<br><br>

(python) XML íŒŒì¼ì„ ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ë§Œë“¤ê¸°

<br><br>
ë°ì´í„° ë¶„ì„ì€   csv, xlsx, xml, jsonê³¼ ê°™ì€ ë‹¤ì–‘í•œ í˜•ì‹(í™•ì¥ì)ìœ¼ë¡œ<br>
ì €ì¥ëœ ë°ì´í„°ì›ë³¸ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¼ì—ì„œë¶€í„° ì‹œì‘ëœë‹¤.<br><br>ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” xmlì— ëŒ€í•´ ì•Œì•„ë³´ê³  <br>
xmlíŒŒì¼ì„ ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ë‹¤ë¤„ë³¼ ê²ƒì´ë‹¤.

---
  
<br>

<div style="background-color:#fff9c4; color:#212121; text-align:left; padding:10px; border-radius:5px;">
  <b> 1. XMLì´ë€? </b> 
</div>

<br>
  
**1-1. XMLì˜ ì •ì˜** <br>

XMLì€ Extensible Markup Languageì˜ ì•½ìë¡œì¨ ë°ì´í„° êµí™˜ì— ëª©ì ì„ ë‘ê³  ë§Œë“¤ì–´ì§„ ë§ˆí¬ì—… ì–¸ì–´ë¥¼ ëœ»í•œë‹¤.<br>

ì—¬ê¸°ì„œ ë§ˆí¬ì—… ì–¸ì–´ë€ íƒœê·¸ ë“±ì„ ì´ìš©í•˜ì—¬ ë¬¸ì„œë‚˜ ë°ì´í„°ì˜ êµ¬ì¡°ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì–¸ì–´ë¥¼ ëœ»í•œë‹¤.<br><br>
![](https://images.velog.io/images/datata29/post/6c53e769-046f-4cc6-98d7-6022959eb651/xml_example.png)

<br>

**1-2. XMLì˜ íŠ¹ì§•(ì¥ì )**

 XMLì€ ë‹¤ì–‘í•œ ì¥ì ì„ ê°€ì§€ê³  ìˆë‹¤.<br>
- ë§ì€ APIê°€ ê°œë°œë˜ì–´ ìˆë‹¤. <br>
- í…ìŠ¤íŠ¸ í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ì—¬ ì§ê´€ì ì´ë‹¤.<br>
- ìœ ë‹ˆì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì „ì„¸ê³„ ì–¸ì–´ë¥¼ ì§€ì›í•œë‹¤. <br>
- íŠ¹ì • ì–´í”Œë¦¬ì¼€ì´ì…˜ì— êµ¬ì• ë°›ì§€ ì•Šê³  ì‹¤í–‰ ê°€ëŠ¥í•˜ë‹¤.<br>
- ì‚¬ì „ì •ì˜ íƒœê·¸ê°€ ì—†ìœ¼ë©° íƒœê·¸ë¥¼ ììœ ë¡­ê²Œ ì§€ì •í•  ìˆ˜ ìˆë‹¤. <br>  
  
íŠ¹ì • ì–´í”Œë¦¬ì¼€ì´ì…˜ì— êµ¬ì•  ë°›ì§€ì•ŠëŠ”ë‹¤ëŠ” ì ê³¼ ì‚¬ì „ ì •ì˜ íƒœê·¸ê°€ ì—†ë‹¤ëŠ” ì ì€  HTMLê³¼ êµ¬ë³„ë˜ëŠ” íŠ¹ì§•ì´ë‹¤.<br>
(HTMLì€ ì›¹ì—ì„œë§Œ êµ¬í˜„ ê°€ëŠ¥ / ì‚¬ì „ íƒœê·¸ ì¡´ì¬ ) <br>
 
---

<br>

<div style="background-color:#fff9c4; color:#212121; text-align:left; padding:10px; border-radius:5px;">
  <b> 2. XMLì„ íŒë‹¤ìŠ¤ ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¤ê¸° </b> 
</div>
  
<br> 

( ê·¸ë¦¼ 1.  xml )

![](https://images.velog.io/images/datata29/post/59ce6381-6c0b-4155-aee5-de9af6039d37/xml_example2.png) 

<br>  

(ê·¸ë¦¼2. ë°ì´í„°í”„ë ˆì„)    


 | name   | email           | grade | age  |
| ------ | --------------- | ----- | ---- |
| John   | john@mail.com   | A     | 16   |
| Alice  | alice@mail.com  | B     | 17   |
| Bob    | bob@mail.com    | C     | 16   |
| Hannah | hannah@mail.com | A     | 17   |


<br>

xml íŒŒì¼ì„ íŒë‹¤ìŠ¤ë¥¼ ì´ìš©í•´ ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ë³€í™˜í•´ë³´ì. <br>
(ê·¸ë¦¼ 1 --> ê·¸ë¦¼ 2) <br><br> 
ì´ ì‘ì—…ì„ ìœ„í•´ íŒŒì´ì¬ ëª¨ë“ˆì¸ xml.etree.ElementTree ì„ ì‚¬ìš©í•œë‹¤.<br><br>
  
```python
import xml.etree.ElementTree as et
xtree= et.parse("file_name.xml")
xroot= xtree.getroot()  
```  
<Br>  ì´ ëª¨ë“ˆì€ xmlíŒŒì¼ì˜ ë°ì´í„° êµ¬ì¡°ë¥¼ íŠ¸ë¦¬(tree)êµ¬ì¡°ë¡œ ë°”ê¿”ì¤€ë‹¤.<br>
ê° ì¹¼ëŸ¼ì˜ ë ˆì½”ë“œë¥¼ ê°œë³„ ë…¸ë“œì— ì €ì¥í•˜ê³  ì´ ë…¸ë“œë“¤ì„ ë°ì´í„°í”„ë ˆì„ì— ë„£ì–´ì£¼ëŠ” ê²ƒì´ë‹¤. 
<br><Br>

 ```python
# xml to df ì½”ë“œ
  
import pandas as pd
import xml.etree.ElementTree as et
  
xtree=et.parse("students.xml")
xroot=xtree.getroot()
  
df_cols=["name","email","grade","age"]
row=[]
  
for node in xroot:
  s_name=node.attrib.get("name")
  s_mail=node.find("email").text if node is not None else None
  s_grade=node.find("grade").text if node is not None else None
  s_age=node.find("age").text if node is not None else None
  
  rows.append({"name":s_name, "email":s_mail,
               "grade":s_grade, "age" : s_age})
  
 out_df= pd.DataFrame(rows,colums=df_cols) 
```
<br><br> nameì€ email,grade,ageì™€ ë‹¬ë¦¬ <br>
  node.attrib.get( )ì„ ì´ìš©í•˜ì—¬ êµ¬í•´ì¤¬ë‹¤. <br>

 ì´ëŠ”  nameì´ ì†ì„±ì— ì €ì¥ë˜ì–´ ìˆê¸° ë•Œë¬¸ì´ë‹¤.<br>
 email,grade,ageëŠ” name í•˜ìœ„ êµ¬ì¡°ë¡œ ì¡´ì¬í•œë‹¤.<br>

 ì´ ì„¸ ë³€ìˆ˜ëŠ” node.find( ) ë¥¼ ì´ìš©í•˜ì—¬ êµ¬í•´ì£¼ë©´ ëœë‹¤. 
  ( ê·¸ë¦¼ 1. xml ì°¸ê³ )<br><br> ì•„ë˜ì²˜ëŸ¼  functionìœ¼ë¡œ ë¯¸ë¦¬ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•´ë„ ëœë‹¤. <br><br>

```python
import pandas as pd
import xml.etree.ElementTree as et
  
def parse_XML(xml_file,df_cols):  
    xtree=et.parse("students.xml")
    xroot=xtree.getroot()
    row=[]
  
    for node in xroot:
  	res=[]
   	res.append(node.attrib.get(df_cols[0]))
    	for el in f_cols[1:]:
   	  if node is not None and node.find(el) is not None:
     		res.append(node.find(el).text)
  	  else:
   		res.append(None)
        row.append({df_cols[i]:res[i] 
  		    for i,_ in enumerate(df_cols)})
  
    out_df=pd.DataFrame(rows,columns=df_cols)
    return out_df
  
    out_df= pd.DataFrame(rows,colums=df_cols) 
  
#   parse_XML( "students.xml", ["name","email","grade","age"])
``` 

<br>

---  
  
  
âœ‹ğŸ¾ ì°¸ê³ ë§í¬ : https://medium.com/@robertopreste/from-xml-to-pandas-dataframes-9292980b1c1c
  
  