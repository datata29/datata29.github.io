---
layout: post
title: (SQL) 문자열 형식의 값을 날짜형식의 값으로 변경하기 <br> (STR_TO_DATE)
description: >
 (SQL) 문자열을 날짜형식으로
categories: [가이던스] 
tags: [sql]
author: author1
---


(SQL) 문자열 형식의 값을 날짜형식의 값으로 변경하기 <br> (STR_TO_DATE)

---

##  1. 문제 발생 
<br>

<img src="{{ site.baseurl }}/assets/img/sql9/1.png">


위와 같이 측정일시를 레코드로 갖는 데이터프레임이 있다. <br>
측정일시 칼럼의 값들은 문자열(str)의 형태로 되어있다. <br><br>

나는 이 값들의 데이터 타입을 date형식으로 바꿔주고 싶다.<br>
어떻게 하면 될까? <br><br>

---

## 2. 문제 해결
<br>
MYSQL은 STR_TO_DATE 함수를 지원한다. <br>
STR_TO_DATE 함수는 문자열 형태로 저장되어있는 값을 DATE 타입으로 바꿔주는 함수이다.<br><br>

```sql
SELECT STR_TO_DATE("문자열","날짜형식")
```

STR_TO_DATE 함수는 2개의 파라미터를 가진다.  <br>
- 날짜형식으로 변환할 문자 (ex : 2021-05-11 , 20210511 ) <br>
- 날짜표현식 (ex : %Y-%m-%d %H:%i:%s) <br>

날짜표현식을 입력할 때 , 기존 문자열을 무시해서 입력하면 <br>
null 값이 출력되니 이 점 주의하자.<br>
( 2019-01-01 01:00 - %Y-%m-%d %H:%i ) <br>
( 20200531230000 - '%Y%m%d %H%i%s')

<br><br>

```sql
SELECT STR_TO_DATE(측정일시,'%Y-%m-%d %H:%i') AS 측정일시,
FROM AIR_HOUR_2019; -- 해결코드 
```

<br><br>

#### 날짜 표현식

| 표현식 |                                   |
| ------ | --------------------------------- |
| %Y     | 연도(2018,2019,2020 ...)          |
| %y     | 연도(18, 19, 20 ..)               |
| %M     | 월(January, December, March ... ) |
| %b     | 월(Jan, Dec, ...)                 |
| %m     | 월(0, 1, 2, ...)                  |
| %d     | 일(00, 01, 02, ...)               |
| %e     | 일(0, 1, 2, ...)                  |
| %H     | 시(00, 01, 02, 13, 24)            |
| %h     | 시(01, 02, 12)                    |
| %i     | 분(00, 01, 30)                    |
| %s     | 초                                |
| %p     | AM, PM                            |

<br><br>

---

## 3. 배운 점 및 피드백
<br>

1. SQL의 전처리 함수를 더 알아보자 <br>
2. 날짜 표현식을 외워두자<br>